---
title: Http缓存机制
---
# 静态资源优化方案

## 配置超长时间的本地缓存 —— 节省带宽，提高性能
## 采用内容摘要作为缓存更新依据 —— 精确的缓存控制
## 静态资源CDN部署 —— 优化网络请求
## 更资源发布路径实现非覆盖式发布 —— 平滑升级

---

先部署页面，再部署资源：在二者部署的时间间隔内，如果有用户访问页面，就会在新的页面结构中加载旧的资源，并且把这个旧版本的资源当做新版本缓存起来，其结果就是：用户访问到了一个样式错乱的页面，除非手动刷新，否则在资源缓存过期之前，页面会一直执行错误。

先部署资源，再部署页面：在部署时间间隔之内，有旧版本资源本地缓存的用户访问网站，由于请求的页面是旧版本的，资源引用没有改变，浏览器将直接使用本地缓存，这种情况下页面展现正常；但没有本地缓存或者缓存过期的用户访问网站，就会出现旧版本页面加载新版本资源的情况，导致页面执行错误，但当页面完成部署，这部分用户再次访问页面又会恢复正常了。